<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 中位数是有序列表中间的数。如果列表长度是偶数，中位数则是中间两个数的平均值。

        // 例如，

        // [2,3,4] 的中位数是 3

        // [2,3] 的中位数是 (2 + 3) / 2 = 2.5

        // 设计一个支持以下两种操作的数据结构：

        // void addNum(int num) - 从数据流中添加一个整数到数据结构中。
        // double findMedian() - 返回目前所有元素的中位数。
        // 示例：

        // addNum(1)
        // addNum(2)
        // findMedian() -> 1.5
        // addNum(3) 
        // findMedian() -> 2
        // 进阶:

        // 如果数据流中所有整数都在 0 到 100 范围内，你将如何优化你的算法？
        // 如果数据流中 99% 的整数都在 0 到 100 范围内，你将如何优化你的算法？

        /**
        * initialize your data structure here.
        */
        var MedianFinder = function() {
            this.list = []
        };

        /** 
        * @param {number} num
        * @return {void}
        */
        MedianFinder.prototype.addNum = function(num) {
            if (this.list.length === 0) {
                this.list.push(num)
            } else if (num <= this.list[0]) {
                this.list.unshift(num)
            } else if (num >= this.list[this.list.length - 1]) {
                this.list.push(num)
            } else {
                let i = 0, flag = true
                while (flag) {
                    if (this.list[i] >= num) {
                        this.list.splice(i,0,num)
                        flag = false
                    }
                    i++
                }
            }
            console.log(this.list)
        };

        /**
        * @return {number}
        */
        MedianFinder.prototype.findMedian = function() {
            const len = this.list.length
            if (len % 2 === 0) {
                return (this.list[len / 2] + this.list[len / 2 - 1]) / 2
            } else {
                return this.list[Math.floor(len / 2)]
            }
        };

        /**
        * Your MedianFinder object will be instantiated and called as such:
        * var obj = new MedianFinder()
        * obj.addNum(num)
        * var param_2 = obj.findMedian()
        */
    </script>
</body>
</html>