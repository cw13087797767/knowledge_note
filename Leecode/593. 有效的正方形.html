<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 给定2D空间中四个点的坐标 p1, p2, p3 和 p4，如果这四个点构成一个正方形，则返回 true 。

    点的坐标 pi 表示为 [xi, yi] 。输入 不是 按任何顺序给出的。

    一个 有效的正方形 有四条等边和四个等角(90度角)。

     

    示例 1:

    输入: p1 = [0,0], p2 = [1,1], p3 = [1,0], p4 = [0,1]
    输出: True
    示例 2:

    输入：p1 = [0,0], p2 = [1,1], p3 = [1,0], p4 = [0,12]
    输出：false
    示例 3:

    输入：p1 = [1,0], p2 = [-1,0], p3 = [0,1], p4 = [0,-1]
    输出：true
     

    提示:

    p1.length == p2.length == p3.length == p4.length == 2
    -104 <= xi, yi <= 104

    来源：力扣（LeetCode）
    链接：https://leetcode.cn/problems/valid-square
    著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。 -->
    <script>
        /**
         * @param {number[]} p1
         * @param {number[]} p2
         * @param {number[]} p3
         * @param {number[]} p4
         * @return {boolean}
         */
        var validSquare = function(p1, p2, p3, p4) {
            const set = new Set()
            const arr = [p1, p2, p3, p4]
            if (new Set(arr.map(item => item.join())).size !== 4) {
                return false
            }
            for (let i = 0; i < arr.length - 1; i++) {
                for (let j = i + 1; j < arr.length; j++) {
                    const [x1, y1] = arr[i]
                    const [x2, y2] = arr[j]
                    const num = Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2)
                   set.add(num)
                }
            }
            return set.size === 2
        };
    </script>
</body>
</html>