<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 给你一个数组 nums ，数组中只包含非负整数。定义 rev(x) 的值为将整数 x 各个数字位反转得到的结果。比方说 rev(123) = 321 ， rev(120) = 21 。我们称满足下面条件的下标对 (i, j) 是 好的 ：

        // 0 <= i < j < nums.length
        // nums[i] + rev(nums[j]) == nums[j] + rev(nums[i])
        // 请你返回好下标对的数目。由于结果可能会很大，请将结果对 109 + 7 取余 后返回。

        //  

        // 示例 1：

        // 输入：nums = [42,11,1,97]
        // 输出：2
        // 解释：两个坐标对为：
        // - (0,3)：42 + rev(97) = 42 + 79 = 121, 97 + rev(42) = 97 + 24 = 121 。
        // - (1,2)：11 + rev(1) = 11 + 1 = 12, 1 + rev(11) = 1 + 11 = 12 。
        // 示例 2：

        // 输入：nums = [13,10,35,24,76]
        // 输出：4
        //  

        // 提示：

        // 1 <= nums.length <= 105
        // 0 <= nums[i] <= 109

        // 来源：力扣（LeetCode）
        // 链接：https://leetcode.cn/problems/count-nice-pairs-in-an-array
        // 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

        /**
         * @param {number[]} nums
         * @return {number}
         */
        var countNicePairs = function(nums) {
            const MOD = 1000000007;
            let res = 0;
            const h = new Map();
            for (const i of nums) {
                let temp = i, j = 0;
                while (temp > 0) {
                    j = j * 10 + temp % 10;
                    temp = Math.floor(temp / 10);
                }
                res = (res + (h.get(i - j) || 0)) % MOD;
                h.set(i - j, (h.get(i - j) || 0) + 1);
            }
            return res;
            // let total = 0
            // const revArr = []
            // const revFn = (num) => {
            //     let numStr = num + ''
            //     let res = '': 917.849853515625 ms
            //     for (let i = numStr.length - 1; i > -1; i--) {
            //         res += numStr[i]
            //     }
            //     return +res
            // }
            // for (let i = 0; i < nums.length; i++) {
            //     revArr.push(revFn(nums[i]))
            // }
            // for (let i = 0; i < nums.length - 1; i++) {
            //     for (let j = i + 1; j < nums.length; j++) {
            //         if (nums[i] + revArr[j] === revArr[i] + nums[j]) {
            //             total = (total + 1) % (10e9 + 7)
            //         }
            //     }
            // }
            // return total
        };
    </script>
</body>
</html>