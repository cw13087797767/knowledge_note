## 层叠上下文

### 参考地址：https://blog.csdn.net/llll789789/article/details/97562099

### 定义：
    层叠上下文(stacking context)，是HTML中一个三维的概念。在CSS2.1规范中，每个盒模型的位置是三维的，分别是平面画布上的X轴，Y轴以及表示层叠的Z轴。一般情况下，元素在页面上沿X轴Y轴平铺，我们察觉不到它们在Z轴上的层叠关系。而一旦元素发生堆叠，这时就能发现某个元素可能覆盖了另一个元素或者被另一个元素覆盖。
    具象的比喻：你可以把层叠上下文元素理解为理解为该元素当了官，而其他非层叠上下文元素则可以理解为普通群众。凡是“当了官的元素”就比普通元素等级要高，也就是说元素在Z轴上更靠上，更靠近观察者。

### 层叠等级：
    1、在同一个层叠上下文中，它描述定义的是该层叠上下文中的层叠上下文元素在Z轴上的上下顺序。
    2、在其他普通元素中，它描述定义的是这些普通元素在Z轴上的上下顺序。
    3、普通元素的层叠等级优先由其所在的层叠上下文决定。
    4、层叠等级的比较只有在当前层叠上下文元素中才有意义。不同层叠上下文中比较层叠等级是没有意义的。

### 如何产生层叠上下文：
    1、HTML中的根元素<html></html>本身就具有层叠上下文，称为“根层叠上下文”。
    2、普通元素设置position属性为非static值并设置z-index属性为具体数值(设为auto不起作用)，产生层叠上下文。
    3、CSS3中的新属性也可以产生层叠上下文。

### 层叠顺序：
    background/border < (z-index < 0) < block块级水平盒子 < float浮动元素 < inline/inline-block水平盒子 < (z-idnex:auto/0) < (z-index > 0)

### CSS3中的属性对层叠上下文的影响：
    1、父元素的display属性值为flex|inline-flex，子元素z-index属性值不为auto的时候，子元素为层叠上下文元素；
    2、元素的opacity属性值不是1；
    3、元素的transform属性值不是none；
    4、元素mix-blend-mode属性值不是normal`；
    5、元素的filter属性值不是none；
    6、元素的isolation属性值是isolate；
    7、will-change指定的属性值为上面任意一个；
    8、元素的-webkit-overflow-scrolling属性值设置为touch。
